local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local attempts = 0  -- Track verification attempts
local gameID = game.PlaceId  -- Get the current game ID
local supportedGameID = 113323927469374  -- The supported game ID

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Create Main Frame
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 300, 0, 200)
mainFrame.Position = UDim2.new(0.5, -150, 0.5, -100)
mainFrame.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui

-- Create Title Label
local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, 0, 0, 30)
titleLabel.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
titleLabel.Text = "Character Control"
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextSize = 16
titleLabel.Parent = mainFrame

-- WalkSpeed Label
local walkSpeedLabel = Instance.new("TextLabel")
walkSpeedLabel.Size = UDim2.new(0, 120, 0, 40)
walkSpeedLabel.Position = UDim2.new(0, 10, 0, 40)
walkSpeedLabel.Text = "WalkSpeed:"
walkSpeedLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
walkSpeedLabel.Font = Enum.Font.GothamBold
walkSpeedLabel.TextSize = 14
walkSpeedLabel.Parent = mainFrame

-- WalkSpeed Input
local walkSpeedInput = Instance.new("TextBox")
walkSpeedInput.Size = UDim2.new(0, 100, 0, 40)
walkSpeedInput.Position = UDim2.new(0, 140, 0, 40)
walkSpeedInput.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
walkSpeedInput.Text = tostring(humanoid.WalkSpeed)
walkSpeedInput.Font = Enum.Font.GothamBold
walkSpeedInput.TextSize = 14
walkSpeedInput.Parent = mainFrame

-- JumpPower Label
local jumpPowerLabel = Instance.new("TextLabel")
jumpPowerLabel.Size = UDim2.new(0, 120, 0, 40)
jumpPowerLabel.Position = UDim2.new(0, 10, 0, 90)
jumpPowerLabel.Text = "JumpPower:"
jumpPowerLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
jumpPowerLabel.Font = Enum.Font.GothamBold
jumpPowerLabel.TextSize = 14
jumpPowerLabel.Parent = mainFrame

-- JumpPower Input
local jumpPowerInput = Instance.new("TextBox")
jumpPowerInput.Size = UDim2.new(0, 100, 0, 40)
jumpPowerInput.Position = UDim2.new(0, 140, 0, 90)
jumpPowerInput.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
jumpPowerInput.Text = tostring(humanoid.JumpPower)
jumpPowerInput.Font = Enum.Font.GothamBold
jumpPowerInput.TextSize = 14
jumpPowerInput.Parent = mainFrame

-- Submit Button
local submitButton = Instance.new("TextButton")
submitButton.Size = UDim2.new(1, -20, 0, 40)
submitButton.Position = UDim2.new(0, 10, 0, 140)
submitButton.BackgroundColor3 = Color3.fromRGB(255, 165, 0)
submitButton.Text = "Apply Settings"
submitButton.TextColor3 = Color3.fromRGB(255, 255, 255)
submitButton.Font = Enum.Font.GothamBold
submitButton.TextSize = 14
submitButton.Parent = mainFrame

-- Not Supported GUI
local function showNotSupportedGui()
    -- Create Not Supported Frame
    local notSupportedFrame = Instance.new("Frame")
    notSupportedFrame.Size = UDim2.new(0, 250, 0, 100)
    notSupportedFrame.Position = UDim2.new(0.5, -125, 0.5, -50)
    notSupportedFrame.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
    notSupportedFrame.Parent = screenGui

    -- Not Supported Label
    local notSupportedLabel = Instance.new("TextLabel")
    notSupportedLabel.Size = UDim2.new(1, 0, 0.5, 0)
    notSupportedLabel.Text = "Not Supported in this Game"
    notSupportedLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    notSupportedLabel.Font = Enum.Font.GothamBold
    notSupportedLabel.TextSize = 16
    notSupportedLabel.Parent = notSupportedFrame

    -- Force Start Button
    local forceStartButton = Instance.new("TextButton")
    forceStartButton.Size = UDim2.new(1, 0, 0.5, 0)
    forceStartButton.Position = UDim2.new(0, 0, 0.5, 0)
    forceStartButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
    forceStartButton.Text = "Force Start (3 attempts)"
    forceStartButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    forceStartButton.Font = Enum.Font.GothamBold
    forceStartButton.TextSize = 14
    forceStartButton.Parent = notSupportedFrame

    -- Force Start Attempts Logic
    local forceStartAttempts = 0
    local chance = math.random(1, 10)  -- 1 out of 10 chance to force start

    forceStartButton.MouseButton1Click:Connect(function()
        forceStartAttempts = forceStartAttempts + 1
        if forceStartAttempts >= 3 then
            forceStartButton.Text = "Attempts Exceeded"
            forceStartButton.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
            wait(2)
            forceStartButton:Destroy()
            return
        end

        if math.random(1, 10) == chance then
            forceStartButton.Text = "Force Start Passed"
            forceStartButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
            wait(1)
            notSupportedFrame:Destroy()  -- Close Not Supported GUI
            humanoid.WalkSpeed = tonumber(walkSpeedInput.Text)
            humanoid.JumpPower = tonumber(jumpPowerInput.Text)
        else
            forceStartButton.Text = "Failed! Try Again"
            forceStartButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
            wait(1)
            forceStartButton.Text = "Force Start (3 attempts)"
            forceStartButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
        end
    end)
end

-- Main Script Logic
if gameID ~= supportedGameID then
    -- Show Not Supported GUI if game is unsupported
    showNotSupportedGui()
else
    -- Create the normal UI for WalkSpeed and JumpPower adjustments
    -- (previous UI creation code here)
end

submitButton.MouseButton1Click:Connect(function()
    local newWalkSpeed = tonumber(walkSpeedInput.Text)
    local newJumpPower = tonumber(jumpPowerInput.Text)

    if newWalkSpeed and newJumpPower then
        if newWalkSpeed > 5000 or newJumpPower > 5000 then
            -- Lock inputs permanently
            walkSpeedInput.TextEditable = false
            jumpPowerInput.TextEditable = false
            walkSpeedInput.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
            jumpPowerInput.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
            walkSpeedInput.Text = "LOCKED"
            jumpPowerInput.Text = "LOCKED"
            return
        end

        if newWalkSpeed > 500 or newJumpPower > 500 then
            showVerificationGui()
        else
            humanoid.WalkSpeed = newWalkSpeed
            humanoid.JumpPower = newJumpPower
        end
    end
end)